<?php

$xpdo_meta_map['msVendor'] = array(
    'package' => 'minishop2',
    'version' => '1.1',
    'table' => 'ms2_vendors',
    'extends' => 'xPDOSimpleObject',
    'fields' =>
        array(
            'name' => null,
            'resource' => 0,
            'country' => null,
            'logo' => null,
            'address' => null,
            'phone' => null,
            'fax' => null,
            'email' => null,
            'description' => null,
            'properties' => null,
        ),
    'fieldMeta' =>
        array(
            'name' =>
                array(
                    'dbtype' => 'varchar',
                    'precision' => '100',
                    'phptype' => 'string',
                    'null' => false,
                ),
            'resource' =>
                array(
                    'dbtype' => 'int',
                    'precision' => '10',
                    'attributes' => 'unsigned',
                    'phptype' => 'integer',
                    'null' => true,
                    'default' => 0,
                ),
            'country' =>
                array(
                    'dbtype' => 'varchar',
                    'precision' => '100',
                    'phptype' => 'string',
                    'null' => true,
                ),
            'logo' =>
                array(
                    'dbtype' => 'varchar',
                    'precision' => '255',
                    'phptype' => 'string',
                    'null' => true,
                ),
            'address' =>
                array(
                    'dbtype' => 'text',
                    'phptype' => 'string',
                    'null' => true,
                ),
            'phone' =>
                array(
                    'dbtype' => 'varchar',
                    'precision' => '20',
                    'phptype' => 'string',
                    'null' => true,
                ),
            'fax' =>
                array(
                    'dbtype' => 'varchar',
                    'precision' => '20',
                    'phptype' => 'string',
                    'null' => true,
                ),
            'email' =>
                array(
                    'dbtype' => 'varchar',
                    'precision' => '255',
                    'phptype' => 'string',
                    'null' => true,
                ),
            'description' =>
                array(
                    'dbtype' => 'text',
                    'phptype' => 'string',
                    'null' => true,
                ),
            'properties' =>
                array(
                    'dbtype' => 'text',
                    'phptype' => 'json',
                    'null' => true,
                ),
        ),
    'aggregates' =>
        array(
            'Products' =>
                array(
                    'class' => 'msProduct',
                    'local' => 'id',
                    'foreign' => 'vendor',
                    'cardinality' => 'many',
                    'owner' => 'foreign',
                ),
            'Resource' =>
                array(
                    'class' => 'modResource',
                    'local' => 'resource',
                    'foreign' => 'id',
                    'cardinality' => 'one',
                    'owner' => 'local',
                ),
        ),
);
